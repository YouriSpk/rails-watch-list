<div class="cover mb-4 d-flex align-items-center justify-content-center page2">
  <h1><strong>List Details</strong></h1>
</div>

<div class="container">
  <div class="row justify-content-center">
    <div class="col-md-10">
      <div class="card mb-4 bg-dark text-white">
        <div class="card-header">
          <h2 class="text-center"><%= @list.name %></h2>
        </div>
        <div class="card-body">
          <% if @list.image_url.present? %>
            <%= image_tag @list.image_url, class: "card-img-top img-fluid", alt: "List Image", style: "object-fit: cover; height: 300px;" %>
          <% else %>
            <%= image_tag "https://images.unsplash.com/photo-1530840197133-665af68f9d71?q=80&w=2674&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D", class: "card-img-top mb-3", alt: "Default Image" %>
          <% end %>
          <ul class="list-group list-group-flush">
            <div class="row">
              <% @list.bookmarks.each do |bookmark| %>
                <% movie = bookmark.movie %>
                <div class="col-12 col-sm-6 col-md-4 mb-3">
                  <div class="card h-100 mt-4">
                    <%= image_tag movie.poster_url, class: "card-img-top img-fluid rounded", alt: movie.title, style: "height: 200px; object-fit: cover; object-position: top;" %>
                    <div class="card-body">
                      <h5 class="card-title"><b><%= movie.title %> (<%= movie.rating %>)</b><span class="text-warning">&#9733;</span></h5>
                      <p class="card-text"><%= movie.overview %></p>
                      <p class="fst-italic"><small><%= bookmark.comment %></small></p>
                      <%= link_to "Delete", bookmark_path(bookmark),
                      data: {turbo_method: :delete, turbo_confirm: "Are you sure?"}, class: 'btn btn-sm btn-danger float-end' %>
                  </div>
                  </div>
                </div>
              <% end %>
            </div>
          </ul>
        </div>
        <div class="d-flex justify-content-center mt-2 mb-4">
          <%= link_to "Back to all lists", lists_path, class: "btn btn-secondary me-2" %>
          <%= link_to "+ Add new Bookmark to this list", new_list_bookmark_path(@list), class: "btn btn-primary" %>
        </div>
      </div>
    </div>
  </div>
</div>
